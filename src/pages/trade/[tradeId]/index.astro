---
import { getSession } from "auth-astro/server";
import Layout from "@/layouts/Layout.astro";
import Trade from "@/components/Trade.svelte";
const session = await getSession(Astro);
const room = Astro.params.tradeId;

if (!session?.user?.id) {
  return Astro.redirect("/login?r=" + Astro.url.pathname);
}
---

<Layout session={session} title="Trade">
  <Trade session={session} room={room} client:load />
</Layout>
